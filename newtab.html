<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>nTabManager - New Tab</title>
  <link rel="stylesheet" href="newtab-google.css">
</head>
<body>
  <div class="google-newtab">
    <!-- Search Bar (centered, top) -->
    <div class="search-section">
      <div class="search-container">
        <span class="search-icon material-symbols-outlined">search</span>
        <input type="text" id="search-input" placeholder="Search Google or type a URL" />
        <button id="search-btn">Search</button>
      </div>
    </div>

    <!-- Widgets Grid -->
    <div class="widgets-grid">
      <!-- Google Calendar Widget -->
      <div class="widget">
        <div class="widget-header">
          <span class="widget-title">Google Calendar</span>
          <button class="widget-menu" title="Options">
            <span class="material-symbols-outlined">more_vert</span>
          </button>
        </div>
        <div class="widget-content">
          <!-- Calendar Connection Status -->
          <div class="calendar-status" id="calendar-status">
            <div class="calendar-connect">
              <span class="material-symbols-outlined calendar-icon">calendar_today</span>
              <button id="connect-calendar-btn" class="connect-btn">
                <span class="material-symbols-outlined">link</span>
                Connect Google Calendar
              </button>
            </div>
          </div>
          <!-- Events List -->
          <div class="events-section" id="events-section" style="display: none;">
            <div id="events-list" class="events-list"></div>
            <a class="see-more" href="https://calendar.google.com/calendar/u/0/r/day" target="_blank">See more</a>
          </div>
        </div>
      </div>

      <!-- Continue with these tabs Widget -->
      <div class="widget">
        <div class="widget-header">
          <span class="widget-title">Continue with these tabs</span>
          <button class="widget-menu" title="Options">
            <span class="material-symbols-outlined">more_vert</span>
          </button>
        </div>
        <div class="widget-content">
          <div id="recent-tabs" class="recent-tabs"></div>
          <a class="see-more" href="#" id="see-more-tabs">See more</a>
        </div>
      </div>

      <!-- Google Drive Widget -->
      <div class="widget">
        <div class="widget-header">
          <span class="widget-title">Google Drive</span>
          <button class="widget-menu" title="Options">
            <span class="material-symbols-outlined">more_vert</span>
          </button>
        </div>
        <div class="widget-content">
          <div id="drive-list" class="drive-list"></div>
          <a class="see-more" href="https://drive.google.com/drive/u/0/recent" target="_blank">See more</a>
        </div>
      </div>
    </div>

    <!-- Hidden restore default button -->
    <button id="restore-default-btn" class="hidden-restore-btn" title="Restore Chrome's default new tab">‚öôÔ∏è</button>
  </div>

  <!-- Restore Default Modal -->
  <div id="restore-modal" class="restore-modal">
    <div class="restore-modal-content">
      <h2 class="restore-modal-title">
        <span class="material-symbols-outlined">undo</span>
        Restore Chrome's Default New Tab
      </h2>
      <p class="restore-modal-text">
        To switch back to Chrome's default new tab page, you'll need to disable this extension's new tab override.
      </p>
      
      <div class="restore-modal-steps">
        <h3 style="margin-bottom: 15px; font-size: 16px;">üìã Quick Steps:</h3>
        <ol>
          <li>Go to <code>chrome://extensions/</code></li>
          <li>Find <strong>nTabManager</strong> in the list</li>
          <li>Toggle the extension <strong>OFF</strong></li>
          <li>Open a new tab to see Chrome's default page</li>
          <li>Toggle back <strong>ON</strong> anytime to return to this dashboard</li>
        </ol>
      </div>

      <p class="restore-modal-text" style="font-size: 14px; margin-bottom: 25px;">
        <span class="material-symbols-outlined" style="vertical-align: middle; color: var(--blade-color-feedback-notice-500);">lightbulb</span>
        <strong>Tip:</strong> You can easily switch between dashboard and default tab by toggling the extension on/off.
      </p>

      <div class="restore-modal-actions">
        <button id="open-extensions-page" class="restore-modal-btn primary">
          <span class="material-symbols-outlined">extension</span>
          Open Extensions Page
        </button>
        <button id="close-restore-modal" class="restore-modal-btn secondary">
          <span class="material-symbols-outlined">close</span>
          Cancel
        </button>
      </div>
    </div>
  </div>

  <script src="newtab.js"></script>
</body>
</html>